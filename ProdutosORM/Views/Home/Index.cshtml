@using Business.models;
@{
    DateTime now = DateTime.Now;
    var qtdItens = 0;
    var qtdVencidos = 0;
    var venceEmTres = 0;
    var qtdTotal = 0;
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Dashboard</h1>
</div>
<br />

@foreach (Produto produto in ViewBag.produtos)
{
    qtdItens++;

    if (produto.Data_Validade < now)
    {
        qtdVencidos++;
    }
    if (((produto.Data_Validade - now).TotalDays) <= 3)
    {
        venceEmTres++;
    }

    qtdTotal += produto.Quantidade_Estoque;
}

<div class="text-center d-flex justify-content-center align-items-center">
    
    <div class="card text-white bg-dark m-3 col-md-3 " style="width: 24rem; height: 8rem;">
        <div class="card-body d-inline shadow">
            <h5 class="card-title mt-3">Qtd Itens em estoque</h5>
            <h5 class="card-subtitle mb-2 mt-3 text-warning">@qtdItens</h5>
        </div>
    </div>

    <div class="card text-white bg-dark m-3 col-md-3 " style="width: 24rem; height: 8rem;">
        <div class="card-body d-inline shadow">
            <h5 class="card-title mt-3">Qtd Produtos totais</h5>
            <h5 class="card-subtitle mb-2 mt-3 text-warning">@qtdTotal</h5>
        </div>
    </div>

</div>

<div class="text-center d-flex justify-content-center align-items-center">

    <div class="card text-white bg-dark m-3 col-md-3 " style="width: 24rem; height: 8rem;">
        <div class="card-body d-inline shadow">
            <h5 class="card-title mt-3">Qtd Produtos vencidos</h5>
            <h5 class="card-subtitle mb-2 mt-3 text-warning">@qtdVencidos</h5>
        </div>
    </div>

    <div class="card text-white bg-dark m-3 col-md-3 " style="width: 24rem; height: 8rem;">
        <div class="card-body d-inline shadow">
            <h5 class="card-title mt-3">Produtos que vencem em 3 dias</h5>
            <h5 class="card-subtitle mb-2 mt-3 text-warning">@venceEmTres</h5>
        </div>
    </div>    
      
</div>